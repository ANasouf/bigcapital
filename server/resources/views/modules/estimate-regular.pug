extends ../PaperTemplateLayout.pug

block head 
  style
    include ../../css/modules/estimate.css

block content 
 div.estimate
  div.estimate__header
   div.organization 
    h3.title #{organizationName}
    if organizationEmail
     span.email #{organizationEmail}

   div.paper
    h1.title #{__("estimate.paper.estimate")}
    span.email #{saleEstimate.estimateNumber}

  div.estimate__meta
   div.estimate__meta-item.estimate__meta-item--amount
     span.label #{__('estimate.paper.due_amount')}
     span.value #{saleEstimate.formattedAmount}

   div.estimate__meta-item.estimate__meta-item--billed-to
    span.label #{__("estimate.paper.billed_to")}
    span.value #{saleEstimate.customer.displayName}

   div.estimate__meta-item.estimate__meta-item--estimate-date
    span.label #{__("estimate.paper.estimate_date")}
    span.value #{saleEstimate.formattedEstimateDate}

   if saleEstimate.estimateNumber
    div.estimate__meta-item.estimate__meta-item--estimate-number
     span.label #{__("estimate.paper.estimate_number")}
     span.value #{saleEstimate.estimateNumber}

   div.estimate__meta-item.estimate__meta-item--due-date
    span.label #{__("estimate.paper.expiration_date")}
    span.value #{saleEstimate.formattedExpirationDate}

  div.estimate__table
   table 
     thead 
      tr
        th.item #{__("item_entry.paper.item_name")}
        th.rate #{__("item_entry.paper.rate")}
        th.quantity #{__("item_entry.paper.quantity")}
        th.total #{__("item_entry.paper.total")}
      tbody
        each entry in saleEstimate.entries
         tr
           td.item
            div.title=entry.item.name
            span.description=entry.description
           td.rate=entry.rate
           td.quantity=entry.quantity
           td.total=entry.amount

   if saleEstimate.termsConditions
    div.estimate__conditions
     h3 #{__("estimate.paper.conditions_title")}
     p #{saleEstimate.termsConditions}

   if saleEstimate.note
    div.estimate__notes
     h3 #{__("estimate.paper.notes_title")}
     p #{saleEstimate.note}